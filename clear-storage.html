<!doctype html>
<html>
  <head>
    <title>Clear Storage</title>
  </head>
  <body>
    <h1>Clear Browser Storage</h1>
    <p>This page will clear all authentication data from localStorage.</p>
    <button onclick="clearStorage()">Clear Storage</button>
    <p id="result"></p>

    <script>
      function clearStorage() {
        try {
          // Clear all possible auth keys
          localStorage.removeItem('authData');
          localStorage.removeItem('dicoding-story-token');
          localStorage.removeItem('dicoding-story-user');

          // Clear all localStorage
          localStorage.clear();

          document.getElementById('result').innerHTML =
            '<span style="color: green;">Storage cleared successfully! You can now close this tab and try logging in again.</span>';
        } catch (error) {
          document.getElementById('result').innerHTML =
            '<span style="color: red;">Error clearing storage: ' + error.message + '</span>';
        }
      }

      // Auto-clear on load
      clearStorage();
    </script>
  </body>
</html>
